# æŠ€æœ¯é€‰å‹ä¸æ¶æ„è®¾è®¡

> **ä¸ºä»€ä¹ˆé€‰æ‹©è¿™äº›æŠ€æœ¯ï¼Ÿå¦‚ä½•ç»„åˆæˆå®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Ÿ**

---

## ğŸ“‹ ç›®å½•
- [æŠ€æœ¯é€‰å‹æ€»è§ˆ](#æŠ€æœ¯é€‰å‹æ€»è§ˆ)
- [å‰ç«¯æŠ€æœ¯æ ˆ](#å‰ç«¯æŠ€æœ¯æ ˆ)
- [åç«¯æŠ€æœ¯æ ˆ](#åç«¯æŠ€æœ¯æ ˆ)
- [å¥‘çº¦ä¸è§„èŒƒ](#å¥‘çº¦ä¸è§„èŒƒ)
- [DevOpså·¥å…·é“¾](#devopså·¥å…·é“¾)
- [AI Agentæ¡†æ¶](#ai-agentæ¡†æ¶)
- [ç³»ç»Ÿæ¶æ„å›¾](#ç³»ç»Ÿæ¶æ„å›¾)
- [å…³é”®è®¾è®¡å†³ç­–](#å…³é”®è®¾è®¡å†³ç­–)

---

## æŠ€æœ¯é€‰å‹æ€»è§ˆ

### æ ¸å¿ƒåŸåˆ™
1. **æ ‡å‡†ä¼˜å…ˆ**ï¼šä¼˜å…ˆé‡‡ç”¨W3C/IETFç­‰æ ‡å‡†åŒ–è§„èŒƒ
2. **ç±»å‹å®‰å…¨**ï¼šç«¯åˆ°ç«¯TypeScriptç±»å‹æ¨å¯¼
3. **å¼€å‘ä½“éªŒ**ï¼šå·¥å…·é“¾å®Œå–„ï¼Œç¤¾åŒºæ´»è·ƒ
4. **å¯æ‰©å±•æ€§**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•
5. **äº’æ“ä½œæ€§**ï¼šåŸºäºOpenAPIçš„ç»Ÿä¸€å¥‘çº¦

### æŠ€æœ¯æ ˆä¸€è§ˆè¡¨

| å±‚çº§ | æŠ€æœ¯é€‰å‹ | ç‰ˆæœ¬ | é€‰å‹ç†ç”± |
|------|----------|------|----------|
| **å‰ç«¯æ¡†æ¶** | Next.js | 15+ | App Routerã€RSCã€Server Actions |
| **çŠ¶æ€ç®¡ç†** | TanStack Query | 5+ | æœåŠ¡ç«¯çŠ¶æ€ç®¡ç†ã€ç¼“å­˜ã€SSRæ°´åˆ |
| **UIç»„ä»¶åº“** | shadcn/ui | latest | æ— ä¾èµ–ã€å¯å®šåˆ¶ã€TailwindåŸç”Ÿ |
| **æ ·å¼æ–¹æ¡ˆ** | Tailwind CSS | 4+ | åŸå­åŒ–CSSã€å“åº”å¼ã€æš—è‰²æ¨¡å¼ |
| **åç«¯æ¡†æ¶** | NestJS | 11+ | æ¨¡å—åŒ–ã€ä¾èµ–æ³¨å…¥ã€è£…é¥°å™¨ |
| **ORM** | Prisma | 6+ | ç±»å‹å®‰å…¨ã€è¿ç§»ç®¡ç†ã€Studioå¯è§†åŒ– |
| **æ•°æ®åº“** | PostgreSQL | 15+ | JSONBæ”¯æŒã€äº‹åŠ¡ã€æ€§èƒ½ |
| **APIè§„èŒƒ** | OpenAPI | 3.1 | JSON Schema 2020-12å¯¹é½ |
| **æ´»åŠ¨æµ** | ActivityStreams | 2.0 | W3Cæ ‡å‡†ã€JSON-LDã€äº’æ“ä½œ |
| **CI/CD** | GitHub Actions | - | åŸç”Ÿé›†æˆã€çŸ©é˜µæ„å»ºã€ç¼“å­˜ |
| **å®¹å™¨åŒ–** | Docker | 24+ | å¤šé˜¶æ®µæ„å»ºã€BuildKitç¼“å­˜ |
| **AIæ¡†æ¶** | AutoGen/CrewAI | latest | å¤šAgentç¼–æ’ã€å·¥å…·è°ƒç”¨ |

---

## å‰ç«¯æŠ€æœ¯æ ˆ

### Next.js 15 (App Router)

**é€‰å‹ç†ç”±**
- âœ… **React Server Components (RSC)**ï¼šæœåŠ¡ç«¯æ¸²æŸ“ä¼˜åŒ–ï¼Œå‡å°‘å®¢æˆ·ç«¯JS
- âœ… **Server Actions**ï¼šç±»å‹å®‰å…¨çš„æœåŠ¡ç«¯å‡½æ•°è°ƒç”¨
- âœ… **æ–‡ä»¶ç³»ç»Ÿè·¯ç”±**ï¼šçº¦å®šä¼˜äºé…ç½®ï¼Œå¼€å‘æ•ˆç‡é«˜
- âœ… **å†…ç½®ä¼˜åŒ–**ï¼šå›¾ç‰‡ã€å­—ä½“ã€è„šæœ¬è‡ªåŠ¨ä¼˜åŒ–
- âœ… **Vercelç”Ÿæ€**ï¼šéƒ¨ç½²ç®€å•ï¼Œè¾¹ç¼˜è®¡ç®—æ”¯æŒ

**æ•°æ®è·å–ç­–ç•¥**
```typescript
// é™æ€ç”Ÿæˆ (SSG)
const data = await fetch('...', { cache: 'force-cache' })

// æœåŠ¡ç«¯æ¸²æŸ“ (SSR)
const data = await fetch('...', { cache: 'no-store' })

// å¢é‡é™æ€å†ç”Ÿæˆ (ISR)
const data = await fetch('...', { next: { revalidate: 60 } })
```

**æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”**
| æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| Next.js | å…¨æ ˆã€SEOã€æ€§èƒ½ | å­¦ä¹ æ›²çº¿ | æœ¬é¡¹ç›® âœ… |
| Remix | åµŒå¥—è·¯ç”±ã€è¡¨å• | ç”Ÿæ€è¾ƒå° | è¡¨å•å¯†é›†åº”ç”¨ |
| Vite + React | è½»é‡ã€å¿«é€Ÿ | éœ€è‡ªå»ºSSR | çº¯SPAåº”ç”¨ |

---

### TanStack Query (React Query)

**é€‰å‹ç†ç”±**
- âœ… **æœåŠ¡ç«¯çŠ¶æ€ç®¡ç†**ï¼šä¸“æ³¨äºå¼‚æ­¥æ•°æ®ï¼Œéå…¨å±€çŠ¶æ€
- âœ… **è‡ªåŠ¨ç¼“å­˜ä¸å¤±æ•ˆ**ï¼šæ™ºèƒ½ç¼“å­˜ç­–ç•¥ï¼Œå‡å°‘è¯·æ±‚
- âœ… **SSR/RSCæ”¯æŒ**ï¼šæ°´åˆæœºåˆ¶å®Œå–„
- âœ… **DevTools**ï¼šå¯è§†åŒ–æŸ¥è¯¢çŠ¶æ€ä¸ç¼“å­˜

**æ ¸å¿ƒæ¦‚å¿µ**
```typescript
// æŸ¥è¯¢ï¼ˆè¯»ï¼‰
const { data, isLoading } = useQuery({
  queryKey: ['prds', id],
  queryFn: () => fetchPRD(id),
  staleTime: 5 * 60 * 1000, // 5åˆ†é’Ÿå†…è®¤ä¸ºæ•°æ®æ–°é²œ
})

// å˜æ›´ï¼ˆå†™ï¼‰
const mutation = useMutation({
  mutationFn: createPRD,
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['prds'] })
  },
})
```

**æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”**
| æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| TanStack Query | ä¸“ä¸šã€åŠŸèƒ½å…¨ | å­¦ä¹ æˆæœ¬ | æœ¬é¡¹ç›® âœ… |
| SWR | è½»é‡ã€ç®€å• | åŠŸèƒ½è¾ƒå°‘ | ç®€å•åº”ç”¨ |
| Redux Toolkit Query | Reduxé›†æˆ | é‡é‡çº§ | Reduxé¡¹ç›® |

---

### shadcn/ui + Tailwind CSS

**é€‰å‹ç†ç”±**
- âœ… **æ— ä¾èµ–**ï¼šå¤åˆ¶ä»£ç åˆ°é¡¹ç›®ï¼Œå®Œå…¨å¯æ§
- âœ… **Radix UIåŸºç¡€**ï¼šæ— éšœç¢è®¿é—®ã€é”®ç›˜å¯¼èˆª
- âœ… **TailwindåŸç”Ÿ**ï¼šæ ·å¼ä¸ç»„ä»¶ä¸€ä½“åŒ–
- âœ… **æš—è‰²æ¨¡å¼**ï¼šå†…ç½®æ”¯æŒï¼Œä¸€é”®åˆ‡æ¢

**ç»„ä»¶ç¤ºä¾‹**
```tsx
import { Button } from "@/components/ui/button"
import { Card, CardHeader, CardTitle, CardContent } from "@/components/ui/card"

export function PRDCard({ prd }) {
  return (
    <Card>
      <CardHeader>
        <CardTitle>{prd.title}</CardTitle>
      </CardHeader>
      <CardContent>
        <p className="text-muted-foreground">{prd.summary}</p>
        <Button variant="outline" className="mt-4">æŸ¥çœ‹è¯¦æƒ…</Button>
      </CardContent>
    </Card>
  )
}
```

---

## åç«¯æŠ€æœ¯æ ˆ

### NestJS

**é€‰å‹ç†ç”±**
- âœ… **æ¨¡å—åŒ–æ¶æ„**ï¼šæ¸…æ™°çš„ä¾èµ–æ³¨å…¥ä¸æ¨¡å—è¾¹ç•Œ
- âœ… **è£…é¥°å™¨è¯­æ³•**ï¼šå£°æ˜å¼ç¼–ç¨‹ï¼Œä»£ç ç®€æ´
- âœ… **OpenAPIé›†æˆ**ï¼š`@nestjs/swagger`è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£
- âœ… **ä¸­é—´ä»¶ç”Ÿæ€**ï¼šGuardsã€Pipesã€Interceptorså®Œå–„
- âœ… **TypeScriptåŸç”Ÿ**ï¼šç±»å‹å®‰å…¨ï¼Œå¼€å‘ä½“éªŒå¥½

**æ¨¡å—ç»“æ„**
```
src/
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ prd/
â”‚   â”‚   â”œâ”€â”€ prd.module.ts
â”‚   â”‚   â”œâ”€â”€ prd.controller.ts
â”‚   â”‚   â”œâ”€â”€ prd.service.ts
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â””â”€â”€ entities/
â”‚   â”œâ”€â”€ design/
â”‚   â”œâ”€â”€ bug/
â”‚   â””â”€â”€ activity/
â”œâ”€â”€ common/
â”‚   â”œâ”€â”€ guards/
â”‚   â”œâ”€â”€ interceptors/
â”‚   â””â”€â”€ pipes/
â””â”€â”€ main.ts
```

**æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”**
| æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| NestJS | ä¼ä¸šçº§ã€å®Œå–„ | è¾ƒé‡ | æœ¬é¡¹ç›® âœ… |
| Fastify | æ€§èƒ½æè‡´ | ç”Ÿæ€è¾ƒå° | é«˜æ€§èƒ½API |
| Express | ç®€å•ã€çµæ´» | éœ€è‡ªå»ºæ¶æ„ | å°å‹é¡¹ç›® |

---

### Prisma ORM

**é€‰å‹ç†ç”±**
- âœ… **ç±»å‹å®‰å…¨**ï¼šè‡ªåŠ¨ç”ŸæˆTypeScriptç±»å‹
- âœ… **è¿ç§»ç®¡ç†**ï¼šå£°æ˜å¼Schemaï¼Œè‡ªåŠ¨ç”Ÿæˆè¿ç§»
- âœ… **Prisma Studio**ï¼šå¯è§†åŒ–æ•°æ®åº“ç®¡ç†
- âœ… **å…³ç³»å¤„ç†**ï¼šåµŒå¥—æŸ¥è¯¢ã€çº§è”æ“ä½œ
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼šæŸ¥è¯¢ä¼˜åŒ–ã€è¿æ¥æ± 

**Schemaç¤ºä¾‹**
```prisma
model PRD {
  id          String   @id @default(cuid())
  title       String
  content     String
  status      Status   @default(DRAFT)
  authorId    String
  author      User     @relation(fields: [authorId], references: [id])
  activities  Activity[]
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([authorId])
  @@index([status])
}

enum Status {
  DRAFT
  REVIEW
  APPROVED
  ARCHIVED
}
```

**æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”**
| æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| Prisma | ç±»å‹å®‰å…¨ã€DXå¥½ | å¤æ‚æŸ¥è¯¢å—é™ | æœ¬é¡¹ç›® âœ… |
| TypeORM | åŠŸèƒ½å…¨ã€çµæ´» | ç±»å‹æ¨å¯¼å¼± | å¤æ‚ä¸šåŠ¡ |
| Drizzle | è½»é‡ã€SQL-like | ç”Ÿæ€è¾ƒæ–° | æ–°é¡¹ç›® |

---

### PostgreSQL

**é€‰å‹ç†ç”±**
- âœ… **JSONBæ”¯æŒ**ï¼šå­˜å‚¨ActivityStreamsåŸå§‹å¯¹è±¡
- âœ… **äº‹åŠ¡å®Œæ•´æ€§**ï¼šACIDä¿è¯ï¼Œæ•°æ®ä¸€è‡´æ€§
- âœ… **å…¨æ–‡æœç´¢**ï¼šå†…ç½®FTSï¼Œæ— éœ€ElasticSearch
- âœ… **æ‰©å±•æ€§**ï¼šPostGISã€pg_trgmç­‰ä¸°å¯Œæ‰©å±•
- âœ… **æˆç†Ÿç¨³å®š**ï¼šç”Ÿäº§éªŒè¯ï¼Œç¤¾åŒºæ´»è·ƒ

**JSONBä½¿ç”¨åœºæ™¯**
```sql
-- å­˜å‚¨ActivityStreamså¯¹è±¡
CREATE TABLE activities (
  id UUID PRIMARY KEY,
  type VARCHAR(50) NOT NULL,
  actor_id VARCHAR(255),
  payload JSONB NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);

-- JSONBæŸ¥è¯¢
SELECT * FROM activities 
WHERE payload @> '{"type": "Create"}'::jsonb;

-- JSONBç´¢å¼•
CREATE INDEX idx_activities_payload_type 
ON activities USING GIN ((payload->'type'));
```

---

## å¥‘çº¦ä¸è§„èŒƒ

### OpenAPI 3.1

**é€‰å‹ç†ç”±**
- âœ… **JSON Schema 2020-12å¯¹é½**ï¼šç±»å‹ç³»ç»Ÿç»Ÿä¸€
- âœ… **å·¥å…·é“¾æˆç†Ÿ**ï¼šSpectralã€Redoclyã€Swagger UI
- âœ… **ä»£ç ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä»£ç 
- âœ… **æ–‡æ¡£å³å¥‘çº¦**ï¼šAPIæ–‡æ¡£ä¸å®ç°åŒæ­¥

**è§„èŒƒç¤ºä¾‹**
```yaml
openapi: 3.1.0
info:
  title: TeamOS API
  version: 1.0.0
paths:
  /api/v1/prds:
    get:
      operationId: listPRDs
      summary: è·å–PRDåˆ—è¡¨
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
      responses:
        '200':
          description: æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PRDList'
```

---

### ActivityStreams 2.0

**é€‰å‹ç†ç”±**
- âœ… **W3Cæ ‡å‡†**ï¼šäº’æ“ä½œæ€§ä¿è¯
- âœ… **JSON-LD**ï¼šè¯­ä¹‰åŒ–ã€å¯æ‰©å±•
- âœ… **å®Œæ•´æ¨¡å‹**ï¼šActorã€Activityã€Objectã€Link
- âœ… **å®¡è®¡è¿½è¸ª**ï¼šå¤©ç„¶æ”¯æŒæ´»åŠ¨æ—¥å¿—

**æ ¸å¿ƒç±»å‹**
```json
{
  "@context": "https://www.w3.org/ns/activitystreams",
  "type": "Create",
  "id": "urn:ulid:01HXYZ...",
  "actor": {
    "type": "Person",
    "id": "urn:user:alice",
    "name": "Alice"
  },
  "object": {
    "type": "Note",
    "id": "urn:prd:123",
    "name": "æ–°åŠŸèƒ½PRD",
    "content": "..."
  },
  "published": "2024-01-15T10:30:00Z"
}
```

---

## DevOpså·¥å…·é“¾

### GitHub Actions

**é€‰å‹ç†ç”±**
- âœ… **åŸç”Ÿé›†æˆ**ï¼šä¸GitHubæ— ç¼é›†æˆ
- âœ… **çŸ©é˜µæ„å»º**ï¼šå¹¶è¡Œæµ‹è¯•å¤šç‰ˆæœ¬
- âœ… **ç¼“å­˜æœºåˆ¶**ï¼šNodeã€Dockerã€Prismaç¼“å­˜
- âœ… **ä¸°å¯Œç”Ÿæ€**ï¼šæµ·é‡Actionå¯å¤ç”¨

**å·¥ä½œæµç¤ºä¾‹**
```yaml
name: CI
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node: [18, 20]
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node }}
          cache: 'npm'
      - run: npm ci
      - run: npm test
```

---

### Docker

**é€‰å‹ç†ç”±**
- âœ… **ç¯å¢ƒä¸€è‡´æ€§**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒç»Ÿä¸€
- âœ… **å¤šé˜¶æ®µæ„å»º**ï¼šä¼˜åŒ–é•œåƒå¤§å°
- âœ… **BuildKitç¼“å­˜**ï¼šåŠ é€Ÿæ„å»ºè¿‡ç¨‹
- âœ… **ç¼–æ’èƒ½åŠ›**ï¼šDocker Composeæœ¬åœ°å¼€å‘

**Dockerfileç¤ºä¾‹**
```dockerfile
# å¤šé˜¶æ®µæ„å»º
FROM node:20-alpine AS deps
WORKDIR /app
COPY package*.json ./
RUN npm ci --omit=dev

FROM node:20-alpine AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .
RUN npm run build

FROM node:20-alpine AS runner
WORKDIR /app
ENV NODE_ENV=production
COPY --from=builder /app/dist ./dist
COPY --from=deps /app/node_modules ./node_modules
CMD ["node", "dist/main.js"]
```

---

## AI Agentæ¡†æ¶

### Microsoft AutoGen vs CrewAI

**AutoGenç‰¹ç‚¹**
- âœ… **åˆ†å±‚æ¶æ„**ï¼šCore APIã€AgentChat APIã€Extensions API
- âœ… **äº‹ä»¶é©±åŠ¨**ï¼šå¼‚æ­¥æ¶ˆæ¯ä¼ é€’
- âœ… **MCPé›†æˆ**ï¼šModel Context Protocolæ”¯æŒ
- âœ… **å·¥å…·è°ƒç”¨**ï¼šAgentToolå°è£…OpenAPIç«¯ç‚¹

**CrewAIç‰¹ç‚¹**
- âœ… **å¤šAgentç³»ç»Ÿ**ï¼šAgentsã€Crewsã€Flows
- âœ… **Guardrails**ï¼šè¾“å…¥è¾“å‡ºéªŒè¯
- âœ… **Memory**ï¼šçŸ­æœŸ/é•¿æœŸè®°å¿†
- âœ… **ä¼ä¸šåŠŸèƒ½**ï¼šè‡ªåŠ¨åŒ–ã€è§¦å‘å™¨ã€å›¢é˜Ÿç®¡ç†

**æ¨èæ–¹æ¡ˆ**
- **å°å‹é¡¹ç›®**ï¼šAutoGenï¼ˆè½»é‡ã€çµæ´»ï¼‰
- **ä¼ä¸šçº§**ï¼šCrewAIï¼ˆåŠŸèƒ½å…¨ã€å¯è§‚æµ‹ï¼‰
- **æœ¬é¡¹ç›®**ï¼šAutoGenï¼ˆä¼˜å…ˆOpenAPIå¥‘çº¦ï¼Œæ¡†æ¶å¯æ›¿æ¢ï¼‰

---

## ç³»ç»Ÿæ¶æ„å›¾

### æ•´ä½“æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·/AI Agent                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Next.js Frontend                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Dashboard   â”‚  â”‚  PRD/Design  â”‚  â”‚  Bug/Build   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                  â”‚                  â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                            â”‚                                 â”‚
â”‚                   TanStack Query                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ OpenAPI Client
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      NestJS Backend                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              OpenAPI 3.1 å¥‘çº¦å±‚                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚PRD Moduleâ”‚  â”‚Design Modâ”‚  â”‚Bug Moduleâ”‚  â”‚Build Mod â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚              â”‚              â”‚              â”‚       â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                            â”‚                                 â”‚
â”‚                   ActivityStreams 2.0                        â”‚
â”‚                            â”‚                                 â”‚
â”‚                      Prisma ORM                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PostgreSQL Database                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ å…³ç³»è¡¨(ç´¢å¼•) â”‚  â”‚ JSONB(åŸå§‹)  â”‚  â”‚ æ´»åŠ¨æµ(å®¡è®¡) â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµ
```
1. ç”¨æˆ·/Agent â†’ OpenAPIè¯·æ±‚ â†’ NestJS Controller
2. Controller â†’ Service â†’ Prisma â†’ PostgreSQL
3. Service â†’ ActivityStreamsäº‹ä»¶ â†’ æ´»åŠ¨æµè¡¨
4. PostgreSQL â†’ Prisma â†’ Service â†’ Controller â†’ OpenAPIå“åº”
5. å“åº” â†’ TanStack Queryç¼“å­˜ â†’ Reactç»„ä»¶æ¸²æŸ“
```

---

## å…³é”®è®¾è®¡å†³ç­–

### ADR-001: é‡‡ç”¨OpenAPIä½œä¸ºå”¯ä¸€å¥‘çº¦
**èƒŒæ™¯**ï¼šå¤šAgentåä½œéœ€è¦ç»Ÿä¸€æ¥å£è§„èŒƒ  
**å†³ç­–**ï¼šæ‰€æœ‰APIå¿…é¡»å…ˆå®šä¹‰OpenAPIè§„èŒƒï¼Œå†å®ç°ä»£ç   
**åæœ**ï¼š
- âœ… å‰åç«¯ç±»å‹è‡ªåŠ¨åŒæ­¥
- âœ… Agentè°ƒç”¨æ— éœ€è‡ªå®šä¹‰åè®®
- âš ï¸ éœ€ç»´æŠ¤OpenAPIæ–‡æ¡£ä¸ä»£ç ä¸€è‡´æ€§

### ADR-002: ä½¿ç”¨ActivityStreams 2.0è®°å½•æ‰€æœ‰æ´»åŠ¨
**èƒŒæ™¯**ï¼šéœ€è¦å®Œæ•´çš„å®¡è®¡è¿½è¸ªä¸æº¯æºèƒ½åŠ›  
**å†³ç­–**ï¼šæ‰€æœ‰å†™æ“ä½œå¿…é¡»ç”ŸæˆAS2æ´»åŠ¨äº‹ä»¶  
**åæœ**ï¼š
- âœ… å®Œæ•´çš„æ“ä½œå†å²
- âœ… æ ‡å‡†åŒ–çš„äº‹ä»¶æ¨¡å‹
- âš ï¸ å­˜å‚¨æˆæœ¬å¢åŠ ï¼ˆJSONBï¼‰

### ADR-003: å‰ç«¯é‡‡ç”¨Next.js App Routerè€ŒéPages Router
**èƒŒæ™¯**ï¼šéœ€è¦æ›´å¥½çš„SSRæ€§èƒ½ä¸å¼€å‘ä½“éªŒ  
**å†³ç­–**ï¼šä½¿ç”¨App Router + RSC  
**åæœ**ï¼š
- âœ… æœåŠ¡ç«¯ç»„ä»¶å‡å°‘å®¢æˆ·ç«¯JS
- âœ… Server Actionsç®€åŒ–æ•°æ®å˜æ›´
- âš ï¸ å­¦ä¹ æ›²çº¿è¾ƒé™¡

### ADR-004: æ•°æ®åº“é€‰æ‹©PostgreSQLè€ŒéMongoDB
**èƒŒæ™¯**ï¼šéœ€è¦äº‹åŠ¡ä¿è¯ä¸å¤æ‚æŸ¥è¯¢  
**å†³ç­–**ï¼šPostgreSQL + JSONBæ··åˆå­˜å‚¨  
**åæœ**ï¼š
- âœ… ACIDäº‹åŠ¡ä¿è¯
- âœ… JSONBæ”¯æŒçµæ´»Schema
- âš ï¸ æ°´å¹³æ‰©å±•éœ€åˆ†ç‰‡

---

## ä¸‹ä¸€æ­¥

é˜…è¯»å®ŒæŠ€æœ¯é€‰å‹åï¼Œå»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºç»§ç»­ï¼š
1. [åç«¯å®ç°æŒ‡å—](./01-backend.md) - æ­å»ºNestJS + Prismaåç«¯
2. [å‰ç«¯å®ç°æŒ‡å—](./02-frontend.md) - æ„å»ºNext.jså‰ç«¯
3. [é›†æˆä¸éƒ¨ç½²](./03-integration-deploy.md) - é…ç½®å¼€å‘ç¯å¢ƒä¸CI/CD

---

**æŠ€æœ¯é€‰å‹æ˜¯æ¶æ„çš„åŸºçŸ³ï¼Œç†è§£"ä¸ºä»€ä¹ˆ"æ¯”"æ˜¯ä»€ä¹ˆ"æ›´é‡è¦ã€‚** ğŸ¯

